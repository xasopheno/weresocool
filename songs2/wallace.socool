{ f: 160, l: 1.0, g: 1.0, p: 0.0}

overtones = {
    O[
    	(5/2, 10.0, 1.0, -0.4),
    	(5/2, 0.0, 1.0, 0.4),
      	(9/4, 5.0, 1.0, 1.0),
      	(9/4, 0.0, 1.0, -1.0),
      	(1/1, 5.0, 1.0, -0.5),
      	(1/1, 0.0, 1.0, 0.5),
      	(1/2, 5.0, 1.0, -0.5),
      	(1/2, 0.0, 1.0, 0.5),
  	]
}

chord = {
	overtones 
	| Overlay [AsIs, Noise | Gain 0.1] 
	| Sequence [
		Tm 5/6,
	] 
	| Length 8 | Repeat 8 
}

bells = {
	Overlay [
		AsIs, 
		Noise | Gain 1/9 | Tm 1/4
	]
	| Sequence [
		Silence 1000,
		Tm 9/8, 
		Tm 5/4, 
		Tm 4/3,
		Tm 5/4 | Length 2,
		Tm 3/2,
		Tm 4/3 | Length 2,
	]
	| Overlay [
		AsIs | Overlay [AsIs, Tm 3/2], 
		Invert | Overlay [AsIs, Tm 2], 
		Tm 2/3 | Reverse | Overlay [Tm 5/4, Tm 9/4, Tm 11/4]
	]
	| Tm 2
	| Overlay [AsIs, Tm 3/2]
	| Sequence [AsIs, Tm 9/8, Tm 5/4, Tm 4/3] 
	| Sequence [AsIs, Tm 4/3 | Overlay [AsIs, Tm 3/2 | Ta 3]]
	> FitLength chord
}

melody = {
    O[
      	(6, 6.0, 0.05, 0.0),
      	(5, 5.0, 0.1, -0.5),
      	(4, 7.0, 0.05, -0.75),
      	(4, 0.0, 0.05, 0.75),
      	(3, 0.0, 0.2, 0.5),
      	(2, 5.0, 0.4, -0.5),
      	(1, 0.0, 1.0, 0.5),
  	]
	| Sequence [
		Tm 2,
		Tm 4/3, 
		Tm 5/4 | Length 3, 
		Tm 3/2, 
		Tm 9/8,
		AsIs | Length 3, 
		Tm 3/2, 
		Tm 9/8,
		Tm 5/4,
		Tm 7/8 | Length 2,
		Tm 4/5 | Length 3/2,
		Tm 15/16 | Length 1/2,  
		Sequence [
			AsIs, 
			Tm 9/8,
			Tm 5/4,
			Tm 9/8, 
			Tm 3/2,
			Tm 5/4,
			Sequence [
				Tm 4/3,
				Tm 5/4, 
				Tm 9/8,
			] 
			| Length 1/3
			| Overlay [AsIs, Tm 9/8 | Gain 0.05]
			| Sequence [AsIs, Tm 15/16, Tm 7/8]
		] | Tm 5/4 | Length 1/7,
		Tm 5/4 | Length 5,
		Tm 1/4
	]
	| Sequence [AsIs, Overlay [AsIs | PanA 1, Ta 0.25 | PanA -0.25] | Gain 1/2]
	> FitLength chord
}

main = {
	Sequence [
		Overlay [
			melody,
			chord | Gain 1/5, 
			Sequence [Silence 3.3, bells | Gain 1/8]	
		],
		Silence 2,
	]
}

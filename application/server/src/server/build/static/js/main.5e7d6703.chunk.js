(this.webpackJsonpapp_frontend=this.webpackJsonpapp_frontend||[]).push([[0],{48:function(e,n,t){e.exports=t(88)},77:function(e,n,t){"use strict";(function(e){var n=t(20),r=t.n(n);r.a.define("ace/theme/wsc",["require","exports","module","ace/lib/dom"],(function(e,n,t){n.isDark=!0,n.cssClass="ace-wsc-theme",n.cssText=".ace-wsc-theme .ace_gutter {background: #1a0005;}.ace-wsc-theme {background: #1a0005;color: #929292  font-color: red}.ace-wsc-theme .ace_print-margin {width: 1px;background: #1a1a1a}.ace-wsc-theme { background-color: #111102;color: #DEDEDE}.ace-wsc-theme .ace_cursor {    //background: none;     color: #9F9F9F;    opacity: 0.1; }.ace-wsc-theme .ace_marker-layer .ace_selection {background: #424242}.ace-wsc-theme.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px black;}.ace-wsc-theme .ace_marker-layer .ace_step {background: rgb(0, 0, 0)}.ace-wsc-theme .ace_marker-layer .ace_bracket {background: lightblue;opacity: 0.2;}.ace-wsc-theme .ace_marker-layer .ace_bracket-start {background: orange;}.ace-wsc-theme .ace_marker-layer .ace_bracket-unmatched {margin: -1px 0 0 -1px;border: 1px solid #900;}.ace-wsc-theme .ace_marker-layer .ace_active-line {background: #2A2A2A}.ace-wsc-theme .ace_gutter-active-line {background-color: #2A112A}.ace-wsc-theme .ace_invisible {color: #343434}.ace-wsc-theme .ace_operation {color: #ff6168}.ace-wsc-theme .ace_danny {color: deeppink}.ace-wsc-theme .ace_group_operation {color: steelblue}.ace-wsc-theme .ace_group_operation_other {color: #FFD866}.ace-wsc-theme .ace_o_shortcut {color: #E78C45}.ace-wsc-theme .ace_pipe {color: #D54E53}.ace-wsc-theme .ace_bracket {color: #7AA6DA}.ace-wsc-theme .ace_curly {color: tomato}.ace-wsc-theme .ace_list {color: orange}.ace-wsc-theme .ace_repeat {color: #A9DC76}.ace-wsc-theme .ace_comment {color: grey}.ace-wsc-theme .ace_number {color: cornsilk}.ace-wsc-theme .ace_slash {color: tan}.ace-wsc-theme .ace_zero {color: wheat}.ace-wsc-theme .ace_zero {color: wheat}.ace-wsc-theme .ace_letter {color: #FFCFFF}.ace-wsc-theme .ace_string {color: #B9CA4A}.error {  background: lightsalmon;  opacity: 0.2;  position:absolute;  z-index:20;}",e("../lib/dom").importCssString(n.cssText,n.cssClass)})),r.a.require(["ace/theme/wsc"],(function(n){"object"==typeof exports&&e&&(e.exports=n)}))}).call(this,t(78)(e))},87:function(e,n,t){},88:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(37),c=t.n(o),l=t(10),i=t(38),u=t(12),s=t(13),m=t(46),d=t(9),g=t(14),f=t.n(g),p=t(19),b=t(5),h=t(39),E=t.n(h),v=t(40),k=t.n(v),w=t(41),x=t.n(w),O=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth};t(77);var j=t(1),y=t(2);function _(){var e=Object(j.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return _=function(){return e},e}function C(){var e=Object(j.a)(["\n  font-size: 1em;\n  background-color: #454343;\n  margin-left: 1em;\n  color: #edd;\n  &:visited {\n    outline: none;\n  }\n  &:active {\n    outline: none;\n    background-color: #555373;\n  }\n  &:focus {\n    outline: none;\n  }\n  &:hover {\n    cursor: pointer;\n    background-color: #555373;\n  }\n"]);return C=function(){return e},e}function S(){var e=Object(j.a)(["\n  font-size: 1em;\n  background-color: #454343;\n  margin-right: 1em;\n  color: #edd;\n  &:visited {\n    outline: none;\n  }\n  &:active {\n    outline: none;\n    background-color: #555373;\n  }\n  &:focus {\n    outline: none;\n  }\n  &:hover {\n    cursor: pointer;\n    background-color: #555373;\n  }\n"]);return S=function(){return e},e}function R(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  margin-left: 10%;\n"]);return R=function(){return e},e}function F(){var e=Object(j.a)(["\n  vertical-align: middle;\n  margin-bottom: 0px;\n"]);return F=function(){return e},e}function I(){var e=Object(j.a)(['\n  font-family: "Courier New", Courier, monospace;\n  text-align: bottom;\n  color: #cbb;\n  font-size: 1em;\n  padding-left: 0.2em;\n']);return I=function(){return e},e}function z(){var e=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-right: 10%;\n"]);return z=function(){return e},e}function A(){var e=Object(j.a)(["\n  background-color: #454343;\n  height: 100vh;\n"]);return A=function(){return e},e}function L(){var e=Object(j.a)(['\n  font-family: "Courier New", Courier, monospace;\n  //text-align: center;\n  color: ',";\n  font-size: 1em;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding-top: 0;\n  padding-bottom: 0;\n  color: gold;\n"]);return L=function(){return e},e}function M(){var e=Object(j.a)(['\n  font-family: "Courier New", Courier, monospace;\n  text-align: center;\n  color: #cbb;\n  font-size: 1em;\n']);return M=function(){return e},e}function T(){var e=Object(j.a)(['\n  font-family: "Courier New", Courier, monospace;\n  text-align: center;\n  padding-top: 10px;\n  color: #edd;\n  font-size: 1.5em;\n']);return T=function(){return e},e}var N=y.a.h1(T()),P=y.a.p(M()),q=y.a.p(L(),(function(e){return e.color})),B=y.a.div(A()),D=y.a.div(z()),W=(y.a.label(I()),y.a.input(F()),y.a.div(R())),G=y.a.button(S()),$=y.a.button(C()),K=y.a.div(_());function H(){var e=Object(j.a)(["\n  color: gold;\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n"]);return H=function(){return e},e}function J(){var e=Object(j.a)(["\n  color: #f9d976;\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n"]);return J=function(){return e},e}function U(){var e=Object(j.a)(["\n  color: lightpink;\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n"]);return U=function(){return e},e}function V(){var e=Object(j.a)(["\n  color: #7fcdcd;\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n"]);return V=function(){return e},e}function Q(){var e=Object(j.a)(["\n  color: salmon;\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n"]);return Q=function(){return e},e}function X(){var e=Object(j.a)(["\n  color: deeppink;\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n"]);return X=function(){return e},e}function Y(){var e=Object(j.a)(["\n  padding-top: 0.5em;\n  padding-bottom: 0.5em;\n"]);return Y=function(){return e},e}function Z(){var e=Object(j.a)(["\n  font-size: 1.1em;\n  font-weight: bold;\n  padding-left: 0.25em;\n  padding-right: 0.25em;\n  border: 2px ridge darkgoldenrod;\n"]);return Z=function(){return e},e}function ee(){var e=Object(j.a)(['\n  position: absolute;\n  top: 10%;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  font-family: "Courier New", Courier, monospace;\n  font-size: 1.1em;\n  margin-right: 1em;\n  text-align: center;\n  border: 5px ridge goldenrod;\n']);return ee=function(){return e},e}var ne,te=y.a.div(ee()),re=y.a.div(Z()),ae=y.a.div(Y()),oe=y.a.p(X()),ce=y.a.p(Q()),le=y.a.p(V()),ie=y.a.p(U()),ue=y.a.p(J()),se=y.a.p(H()),me=function(){return a.a.createElement(te,null,a.a.createElement(ae,null,a.a.createElement(re,null,a.a.createElement(se,null,"2/1"))),a.a.createElement(ae,null,a.a.createElement(oe,null,"25/13"),a.a.createElement(re,null,a.a.createElement(ie,null,"15/8")),a.a.createElement(le,null,"7/4")),a.a.createElement(ae,null,a.a.createElement(le,null,"12/7"),a.a.createElement(re,null,a.a.createElement(ie,null,"5/3")),a.a.createElement(oe,null,"13/8"),a.a.createElement(ie,null,"8/5"),a.a.createElement(le,null,"14/9")),a.a.createElement(ae,null,a.a.createElement(re,null,a.a.createElement(ue,null,"3/2"))),a.a.createElement(ae,null,a.a.createElement(le,null,"10/7"),a.a.createElement(le,null,"7/5"),a.a.createElement(ce,null,"11/8")),a.a.createElement(ae,null,a.a.createElement(re,null,a.a.createElement(ue,null,"4/3"))),a.a.createElement(ae,null,a.a.createElement(le,null,"9/7"),a.a.createElement(re,null,a.a.createElement(ie,null,"5/4")),a.a.createElement(ie,null,"6/5"),a.a.createElement(le,null,"7/6")),a.a.createElement(ae,null,a.a.createElement(oe,null,"15/13"),a.a.createElement(le,null,"8/7"),a.a.createElement(re,null,a.a.createElement(ue,null,"9/8")),a.a.createElement(ie,null,"25/24")),a.a.createElement(ae,null,a.a.createElement(re,null,a.a.createElement(se,null,"1/1"))))};function de(){var e=Object(j.a)(['\n  font-family: "Courier New", Courier, monospace;\n  font-weight: bold;\n  background-color: #111101;\n  color: ',";\n  margin-top: 0;\n  margin-bottom: 0;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 1em;\n  padding-right: 1em;\n  color: cornsilk;\n"]);return de=function(){return e},e}function ge(){var e=Object(j.a)(['\n  width: 80%;\n  margin-left: 10%;\n  font-family: "Courier New", Courier, monospace;\n  font-weight: bold;\n  text-align: center;\n  background-color: #454343;\n  color: ',";\n  font-size: 1.7em;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding-top: 0;\n  padding-bottom: 0;\n  color: mistyrose;\n"]);return ge=function(){return e},e}!function(e){e.RenderSuccess="RenderSuccess",e.IdError="IdError",e.ParseError="ParseError",e.IndexError="IndexError",e.MsgError="Msg"}(ne||(ne={}));var fe,pe=function(e){switch(e.responseState){case ne.RenderSuccess:return a.a.createElement("div",null);case ne.ParseError:return a.a.createElement(be,null,"UnexpectedToken: ",a.a.createElement(he,null,e.errorMessage));case ne.IdError:return a.a.createElement(be,null,"Name Not Found: ",a.a.createElement(he,null,e.errorMessage));case ne.IndexError:return a.a.createElement(be,null,"IndexError: ",a.a.createElement(he,null,e.errorMessage));case ne.MsgError:return a.a.createElement(be,null,"Error: ",a.a.createElement(he,null,e.errorMessage))}},be=y.a.p(ge(),(function(e){return e.color})),he=y.a.span(de(),(function(e){return e.color})),Ee=(t(80),function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(){var e;return Object(l.a)(this,t),(e=n.call(this)).$rules={start:[{token:"comment",regex:"--.*$"},{token:"number",regex:"[1-9]"},{token:"zero",regex:"[0]"},{token:"danny",regex:"f:|l:|g:|p:"},{token:"slash",regex:"/"},{token:"keyword",regex:"#"},{token:"curly",regex:"{|}"},{token:"bracket",regex:"\\[|\\]"},{token:"paren",regex:"\\(|\\)"},{token:"pipe",regex:"\\|"},{token:"keyword",regex:">"},{token:"curly",regex:"="},{token:"dot",regex:"\\."},{token:"group_operation_other",regex:"FitLength|ModulateBy|Reverse|ModBy|Invert"},{token:"repeat",regex:"Repeat"},{token:"group_operation",regex:"Sequence|Overlay|Seq"},{token:"o_shortcut",regex:"O"},{token:"operation",regex:"AsIs|Tm|Ta|PanA|PanM|Gain|Length|Fm|Fa|Pa|Pm|Lm|Gm|Sine|Square|Noise|Portamento"},{token:"list",regex:"@|List|Random|&|ET"},{token:"letter",regex:"[a-z]"}]},e}return t}(window.ace.acequire("ace/mode/text_highlight_rules").TextHighlightRules)),ve=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(){var e;return Object(l.a)(this,t),(e=n.call(this)).HighlightRules=Ee,e.lineCommentStart="--",e.getNextLineIndent=function(e,n,t){var r=this.$getIndent(n),a=this.getTokenizer().getLineTokens(n,e).tokens;if(a.length&&"comment"===a[a.length-1].type)return r;"start"===e&&(n.match(/^.*[{([]\s*$/)&&(r+=t));return r},e}return t}(window.ace.acequire("ace/mode/text").Mode),ke="{ f: 285, l: 1, g: 1, p: 0 }\n\novertones = {\n  O[\n    (1/1, 2, 1, 1),\n    (1/1, 0, 1, -1),\n  ]\n}\n\nthing1 = {\n  Seq [\n    Fm 1, Fm 9/8, Fm 5/4\n  ]\n}\n\nmain = {\n  overtones\n  | thing1\n}\n",we=function(e,n,t,r){r([xe(e.line,e.column,n)]),t.editor.gotoLine(e.line,e.column)},xe=function(e,n,t){return{startRow:e-=1,startCol:n,endRow:t,endCol:0,type:"text",className:"error"}},Oe={backend:"http://localhost:4588/api"},je=(t(81),t(82),t(83),t(84),t(85),"".concat(Oe.backend,"/render")),ye=new ve;!function(e){e[e.Cool=0]="Cool",e[e.Rendering=1]="Rendering"}(fe||(fe={}));var _e={0:{name:"Text",style:""},1:{name:"Vim",style:"vim"},2:{name:"Emacs",style:"emacs"}};var Ce=function(){var e=function(){var e=Object(r.useState)(O()),n=Object(b.a)(e,2),t=n[0],a=n[1];return Object(r.useEffect)((function(){var e=function(){a(O())};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),t}(),n=Object(r.useState)(),t=Object(b.a)(n,2),o=t[0],c=t[1],l=Object(r.useState)(ne.RenderSuccess),i=Object(b.a)(l,2),u=i[0],s=i[1],m=Object(r.useState)(""),d=Object(b.a)(m,2),g=d[0],h=d[1],v=Object(r.useState)(1),w=Object(b.a)(v,2),j=w[0],y=w[1],_=Object(r.useState)(),C=Object(b.a)(_,2),S=C[0],R=C[1],F=Object(r.useState)("my_song.socool"),I=Object(b.a)(F,2),z=I[0],A=I[1],L=Object(r.useState)(ke),M=Object(b.a)(L,2),T=M[0],H=M[1],J=Object(r.useState)(!1),U=Object(b.a)(J,2),V=U[0],Q=U[1],X=Object(r.useState)([]),Y=Object(b.a)(X,2),Z=Y[0],ee=Y[1],te=Object(r.useRef)(null),re=function(e){return Object.keys(e)[0]},ae=Object(r.useCallback)(function(){var e=Object(p.a)(f.a.mark((function e(n,t){var r,a,o,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(fe.Rendering),e.next=4,k.a.post(je,{language:n});case 4:if(r=e.sent,!S){e.next=34;break}t&&localStorage.setItem("language",n),a=re(r.data),o=oe(r.data),console.log(a),console.log(o),e.t0=a,e.next=e.t0===ne.RenderSuccess?14:e.t0===ne.ParseError?17:e.t0===ne.IdError?22:e.t0===ne.IndexError?25:e.t0===ne.MsgError?28:31;break;case 14:return s(a),h(""),e.abrupt("break",34);case 17:return l=n.split("\n").length,we(o,l,S,ee),s(a),h("Line: ".concat(o.line," | Column ").concat(o.column)),e.abrupt("break",34);case 22:return s(a),h("".concat(o.id)),e.abrupt("break",34);case 25:return s(a),h(o.message),e.abrupt("break",34);case 28:return console.log(o),h("Error"),e.abrupt("break",34);case 31:return console.log("Unhandled error"),console.log(r),e.abrupt("break",34);case 34:e.next=39;break;case 36:e.prev=36,e.t1=e.catch(0),console.log(e.t1);case 39:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(n,t){return e.apply(this,arguments)}}(),[S]),oe=function(e){return Object.values(e)[0]};Object(r.useEffect)((function(){(function(){var e=Object(p.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:V&&(ee([]),ae(T,!0),c(fe.Cool),Q(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[V,T,S,ae]),Object(r.useEffect)((function(){S&&(S.editor.getSession().setMode(ye),S.editor.setTheme("ace/theme/wsc"),S.editor.completers.push({getCompletions:function(e,n,t,r,a){var o=[];["FitLength","ModulateBy","Reverse","Invert","Repeat","Sequence","Overlay","Length","List","Random","O","Fm","Fa","Pa","Pm","Lm","Gm","AsIs","Tm","Ta","Sine","Square","Noise","Portamento","ET"].forEach((function(e){o.push({value:e,meta:"weresocool"})})),a(null,o)}}))}),[S]),Object(r.useEffect)((function(){!function(){var e=localStorage.getItem("language");e&&H(e)}()}),[]);var ce=function(){ae("{ f: 220, l: 1, g: 1, p: 0 } \n\n      main = {\n          Fm 0\n      }\n    ",!1),c(fe.Cool),Q(!1)},le=function(){return o===fe.Rendering?a.a.createElement(q,null,"Rendering"):a.a.createElement("div",null)},ie=Object(r.useCallback)((function(){var e=new Blob([T],{type:"text/plain;charset=utf-8"});x.a.saveAs(e,z)}),[z,T]),ue=function(){te&&te.current&&te.current.click()},se=function(e){return e.width>1e3?a.a.createElement(me,null):a.a.createElement("div",null)};return a.a.createElement(B,null,a.a.createElement(N,{id:"title"},"WereSoCool"),a.a.createElement(P,null,"Make cool sounds. Impress your friends/pets/plants."),a.a.createElement(se,{width:e}),a.a.createElement(K,null,a.a.createElement("input",{ref:te,type:"file",accept:".socool",style:{display:"none",visibility:"hidden"},onChange:function(e){return function(e){if(e&&e.target&&e.target.files&&e.target.files.length>0){var n=e.target.files[0],t=new FileReader;t.onload=function(e){e.target&&e.target.result&&"string"===typeof e.target.result&&(A(n.name),H(e.target.result))},t.readAsText(n)}}(e)}}),a.a.createElement(W,null,a.a.createElement(G,{onClick:function(){return Q(!0)}},"Render"),a.a.createElement(G,{onClick:ce},"Stop"),a.a.createElement(G,{onClick:ue},"Load"),a.a.createElement(G,{onClick:ie},"Save"),a.a.createElement(le,null)),a.a.createElement(D,null,a.a.createElement($,{onClick:function(){return H(ke)}},"Reset"),a.a.createElement($,{onClick:function(){return y((j+1)%3)}},_e[j].name))),a.a.createElement(E.a,{focus:!0,ref:function(e){R(e)},placeholder:"WereSoCool",mode:"elixir",theme:"github",name:"aceEditor",keyboardHandler:_e[j].style,value:T,onChange:function(e){return H(e)},markers:Z,fontSize:20,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,setOptions:{enableBasicAutocompletion:!0,showLineNumbers:!0,tabSize:2,displayIndentGuides:!0},commands:[{name:"submit",bindKey:{win:"Shift-Enter",mac:"Shift-Enter"},exec:function(){Q(!0)}},{name:"stop",bindKey:{win:"Command-p",mac:"Command-Enter"},exec:function(){ce()}},{name:"save",bindKey:{win:"Ctrl-s",mac:"Command-s"},exec:function(){ie()}},{name:"load",bindKey:{win:"Ctrl-l",mac:"Command-l"},exec:function(){ue()}}],style:{height:"80vh",width:"80vw",marginLeft:"10vw"}}),a.a.createElement(pe,{errorMessage:g,responseState:u}))},Se=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(){return Object(l.a)(this,t),n.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return r.createElement(m.a,null,r.createElement(d.c,null,r.createElement(d.a,{path:"/",children:r.createElement(Ce,null)})))}}]),t}(r.Component);t(87),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(Se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[48,1,2]]]);
//# sourceMappingURL=main.5e7d6703.chunk.js.map